{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,IAAMA,QAAQ,GAAG,CACtB;EACEC,EAAE,EAAE,OAAO;EACXC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE;AACZ,CAAC,EACD;EACEH,EAAE,EAAE,MAAM;EACVC,IAAI,EAAE,MAAM;EACZC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE;AACZ,CAAC,EACD;EACEH,EAAE,EAAE,SAAS;EACbC,IAAI,EAAE,SAAS;EACfC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE;AACZ,CAAC,CACF;AAED,IAAIC,IAAI,GAAG,CAAC,CAAC;AACb,IAAIC,WAAW,GAAG,KAAK;AAEhB,SAASC,cAAcA,CAAA,EAAG;EAC/B,OAAOD,WAAW;AACpB;AAEO,SAASE,cAAcA,CAACC,OAAO,EAAE;EACtCH,WAAW,GAAGG,OAAO;AACvB;AAEO,SAASC,OAAOA,CAAA,EAAG;EACxB,OAAAC,aAAA,KAAYN,IAAI;AAClB;AAEO,SAASO,SAASA,CAACC,SAAS,EAAgB;EAAA,IAAdC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC/C,IAAI,CAACV,IAAI,CAACQ,SAAS,CAAC,EAAE;IACpBR,IAAI,CAACQ,SAAS,CAAC,GAAG,CAAC;EACrB;EACAR,IAAI,CAACQ,SAAS,CAAC,IAAIC,QAAQ;AAC7B;AAEO,SAASI,eAAeA,CAACL,SAAS,EAAEM,MAAM,EAAE;EACjD,IAAIA,MAAM,IAAI,CAAC,EAAE;IACf,OAAOd,IAAI,CAACQ,SAAS,CAAC;IACtB;EACF;EACAR,IAAI,CAACQ,SAAS,CAAC,GAAGM,MAAM;AAC1B;AAEO,SAASC,SAASA,CAAA,EAAG;EAC1Bf,IAAI,GAAG,CAAC,CAAC;AACX;AAEO,SAASgB,mBAAmBA,CAAA,EAAG;EACpC,IAAMC,IAAI,GAAGC,MAAM,CAACC,MAAM,CAACnB,IAAI,CAAC;EAChC,OAAOiB,IAAI,CAACG,MAAM,CAAC,UAACC,GAAG,EAAEC,CAAC;IAAA,OAAKD,GAAG,GAAGC,CAAC;EAAA,GAAE,CAAC,CAAC;AAC5C;;;;;;;;;;;;;;;ACrDoB;AAEb,SAASC,MAAMA,CAAA,EAAG;EACvB,IAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC5C,IAAI,CAACF,KAAK,EAAE;IACV;EACF;EAEA,IAAMG,WAAW,GAAGC,aAAa,CAAC,CAAC;EAEnC,IAAIC,kBAAkB,GAAG,EAAE;EAC3B,IAAI,CAAC3B,yDAAc,CAAC,CAAC,EAAE;IACrB,IAAM4B,UAAU,GAAGd,8DAAmB,CAAC,CAAC;IACxC,IAAMe,aAAa,GAAGD,UAAU,GAAG,CAAC,QAAAE,MAAA,CAAQF,UAAU,SAAM,EAAE;IAC9DD,kBAAkB,6EAAAG,MAAA,CAEHD,aAAa,4BAE3B;EACH;EAEA,IAAIE,QAAQ,GAAG,EAAE;EACjB,IAAI/B,yDAAc,CAAC,CAAC,EAAE;IACpB+B,QAAQ,GAAGC,UAAU,CAAC,CAAC;EACzB;EAEAV,KAAK,CAACW,SAAS,YAAAH,MAAA,CACXL,WAAW,YAAAK,MAAA,CACXH,kBAAkB,YAAAG,MAAA,CAClBC,QAAQ,SACX;AACH;AAEA,SAASL,aAAaA,CAAA,EAAG;EACvB,IAAMQ,SAAS,GAAGzC,+CAAQ,CAAC0C,GAAG,CAAC,UAACC,CAAC,EAAK;IACpC,kEAAAN,MAAA,CAEgBM,CAAC,CAACvC,QAAQ,eAAAiC,MAAA,CAAUM,CAAC,CAACzC,IAAI,uBAAAmC,MAAA,CAChCM,CAAC,CAACzC,IAAI,yBAAAmC,MAAA,CACNM,CAAC,CAACxC,KAAK,CAACyC,OAAO,CAAC,CAAC,CAAC,0FAAAP,MAAA,CAGHM,CAAC,CAAC1C,EAAE;EAO/B,CAAC,CAAC,CAAC4C,IAAI,CAAC,EAAE,CAAC;EAEX,6GAAAR,MAAA,CAIQI,SAAS;AAInB;AAEA,SAASF,UAAUA,CAAA,EAAG;EACpB,IAAMO,UAAU,GAAGpC,kDAAO,CAAC,CAAC;EAC5B,IAAMqC,UAAU,GAAGxB,MAAM,CAACyB,IAAI,CAACF,UAAU,CAAC;EAE1C,IAAIC,UAAU,CAAC/B,MAAM,KAAK,CAAC,EAAE;IAC3B;EASF;EAEA,IAAIiC,UAAU,GAAG,CAAC;EAClB,IAAMC,aAAa,GAAGH,UAAU,CAACL,GAAG,CAAC,UAACzC,EAAE,EAAK;IAC3C,IAAMa,QAAQ,GAAGgC,UAAU,CAAC7C,EAAE,CAAC;IAC/B,IAAMkD,OAAO,GAAGnD,+CAAQ,CAACoD,IAAI,CAAC,UAACT,CAAC;MAAA,OAAKA,CAAC,CAAC1C,EAAE,KAAKA,EAAE;IAAA,EAAC;IACjD,IAAMoD,SAAS,GAAGF,OAAO,CAAChD,KAAK,GAAGW,QAAQ;IAC1CmC,UAAU,IAAII,SAAS;IAEvB,yGAAAhB,MAAA,CAG4Cc,OAAO,CAACjD,IAAI,0BAAAmC,MAAA,CAC3Cc,OAAO,CAACjD,IAAI,mCAAAmC,MAAA,CAEbc,OAAO,CAACjD,IAAI,8LAAAmC,MAAA,CAOGpC,EAAE,8BAAAoC,MAAA,CACZvB,QAAQ,wDAAAuB,MAAA,CAGZgB,SAAS,CAACT,OAAO,CAAC,CAAC,CAAC;EAGnC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;EAEX,2RAAAR,MAAA,CAQQa,aAAa,8CAAAb,MAAA,CAEIY,UAAU,CAACL,OAAO,CAAC,CAAC,CAAC;AAOhD;;;;;;UChIA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACAoB;AACe;AAEnC,SAASU,IAAIA,CAAA,EAAG;EACdxB,QAAQ,CAACyB,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACxC,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;MAC9C,IAAMC,GAAG,GAAGJ,CAAC,CAACC,MAAM,CAACI,OAAO,CAAChD,SAAS;MACtCD,oDAAS,CAACgD,GAAG,CAAC;MACdhC,gDAAM,CAAC,CAAC;MACR;IACF;IAEA,IAAI4B,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;MAC5CnD,yDAAc,CAAC,IAAI,CAAC;MACpBoB,gDAAM,CAAC,CAAC;MACR;IACF;IAEA,IAAI4B,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;MAC5CnD,yDAAc,CAAC,KAAK,CAAC;MACrBoB,gDAAM,CAAC,CAAC;MACR;IACF;IAEA,IAAI4B,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAC3C,IAAMG,KAAK,GAAGzC,8DAAmB,CAAC,CAAC;MACnC0C,OAAO,CAACC,GAAG,oBAAA3B,MAAA,CAAoByB,KAAK,CAAE,CAAC;MACvC1C,oDAAS,CAAC,CAAC;MACXZ,yDAAc,CAAC,KAAK,CAAC;MACrBoB,gDAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EAEFE,QAAQ,CAACyB,gBAAgB,CAAC,SAAS,EAAE,UAACC,CAAC,EAAK;IAC1C,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;MACjDH,CAAC,CAACC,MAAM,CAACI,OAAO,CAACI,QAAQ,GAAGT,CAAC,CAACC,MAAM,CAACS,KAAK;IAC5C;EACF,CAAC,CAAC;EAEFpC,QAAQ,CAACyB,gBAAgB,CAAC,UAAU,EAAE,UAACC,CAAC,EAAK;IAC3C,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;MACjD,IAAMC,GAAG,GAAGJ,CAAC,CAACC,MAAM,CAACI,OAAO,CAAChD,SAAS;MACtC,IAAMoD,QAAQ,GAAGE,QAAQ,CAACX,CAAC,CAACC,MAAM,CAACI,OAAO,CAACI,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC;MAC7D,IAAIG,WAAW,GAAGZ,CAAC,CAACC,MAAM,CAACS,KAAK,CAACG,IAAI,CAAC,CAAC;MAEvC,IAAID,WAAW,KAAK,EAAE,EAAE;QACtBZ,CAAC,CAACC,MAAM,CAACS,KAAK,GAAGD,QAAQ;QACzB;MACF;MAEA,IAAMK,QAAQ,GAAGH,QAAQ,CAACC,WAAW,EAAE,EAAE,CAAC;MAC1C,IAAIG,KAAK,CAACD,QAAQ,CAAC,EAAE;QACnBd,CAAC,CAACC,MAAM,CAACS,KAAK,GAAGD,QAAQ;QACzB;MACF;MAEA,IAAIK,QAAQ,KAAK,CAAC,EAAE;QAClBpD,0DAAe,CAAC0C,GAAG,EAAE,CAAC,CAAC;QACvBhC,gDAAM,CAAC,CAAC;QACR;MACF;MAEAV,0DAAe,CAAC0C,GAAG,EAAEU,QAAQ,CAAC;MAC9B1C,gDAAM,CAAC,CAAC;IACV;EACF,CAAC,CAAC;EACFA,gDAAM,CAAC,CAAC;AACV;AAEA0B,IAAI,CAAC,CAAC,C","sources":["webpack://07-js-cart/./src/model.js","webpack://07-js-cart/./src/view.js","webpack://07-js-cart/webpack/bootstrap","webpack://07-js-cart/webpack/runtime/define property getters","webpack://07-js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://07-js-cart/webpack/runtime/make namespace object","webpack://07-js-cart/./src/index.js"],"sourcesContent":["export const products = [\n  {\n    id: 'jorts',\n    name: 'Jorts',\n    price: 0.99,\n    imageUrl: 'http://placehold.co/150x150?text=Jorts',\n  },\n  {\n    id: 'jean',\n    name: 'Jean',\n    price: 3.14,\n    imageUrl: 'http://placehold.co/150x150?text=Jean',\n  },\n  {\n    id: 'nyancat',\n    name: 'Nyancat',\n    price: 2.73,\n    imageUrl: 'http://placehold.co/150x150?text=Nyancat',\n  },\n];\n\nlet cart = {};\nlet cartVisible = false;\n\nexport function getCartVisible() {\n  return cartVisible;\n}\n\nexport function setCartVisible(visible) {\n  cartVisible = visible;\n}\n\nexport function getCart() {\n  return { ...cart };\n}\n\nexport function addToCart(productId, quantity = 1) {\n  if (!cart[productId]) {\n    cart[productId] = 0;\n  }\n  cart[productId] += quantity;\n}\n\nexport function setCartQuantity(productId, newQty) {\n  if (newQty <= 0) {\n    delete cart[productId];\n    return;\n  }\n  cart[productId] = newQty;\n}\n\nexport function emptyCart() {\n  cart = {};\n}\n\nexport function getTotalItemsInCart() {\n  const qtys = Object.values(cart);\n  return qtys.reduce((sum, n) => sum + n, 0);\n}","import {\n  products,\n  getCart,\n  getCartVisible,\n  getTotalItemsInCart\n} from './model.js';\n\nexport function render() {\n  const appEl = document.querySelector('#app');\n  if (!appEl) {\n    return;\n  }\n\n  const productHtml = renderProduct();\n\n  let viewCartButtonHtml = '';\n  if (!getCartVisible()) {\n    const totalItems = getTotalItemsInCart();\n    const itemCountText = totalItems > 0 ? ` (${totalItems})` : '';\n    viewCartButtonHtml = `\n      <button type=\"button\" class=\"view-cart\">\n        View Cart${itemCountText}\n      </button>\n    `;\n  }\n\n  let cartHtml = '';\n  if (getCartVisible()) {\n    cartHtml = renderCart();\n  }\n\n  appEl.innerHTML = `\n    ${productHtml}\n    ${viewCartButtonHtml}\n    ${cartHtml}\n  `;\n}\n\nfunction renderProduct() {\n  const listItems = products.map((p) => {\n    return `\n      <li class=\"product-item\">\n        <img src=\"${p.imageUrl}\" alt=\"${p.name}\">\n        <h2>${p.name}</h2>\n        <p>$${p.price.toFixed(2)}</p>\n        <button\n          class=\"add-to-cart\"\n          data-product-id=\"${p.id}\"\n          type=\"button\"\n        >\n          Add to Cart\n        </button>\n      </li>\n    `;\n  }).join('');\n\n  return `\n    <div class=\"products\">\n      <h2>Product</h2>\n      <ul class=\"product-list\">\n        ${listItems}\n      </ul>\n    </div>\n  `;\n}\n\nfunction renderCart() {\n  const cartObject = getCart();\n  const productIds = Object.keys(cartObject);\n\n  if (productIds.length === 0) {\n    return `\n      <div class=\"cart\">\n        <h2>Your Cart</h2>\n\n        <p>Nothing in the cart</p>\n\n        <button type=\"button\" class=\"hide-cart\">Hide Cart</button>\n      </div>\n    `;\n  }\n\n  let grandTotal = 0;\n  const cartItemsHtml = productIds.map((id) => {\n    const quantity = cartObject[id];\n    const product = products.find((p) => p.id === id);\n    const lineTotal = product.price * quantity;\n    grandTotal += lineTotal;\n\n    return `\n      <li class=\"cart-item\">\n        <img\n          src=\"http://placehold.co/50x50?text=${product.name}\"\n          alt=\"${product.name}\"\n        >\n        <span>${product.name}</span>\n        <label>\n          Quantity\n          <input\n            class=\"quantity-input\"\n            type=\"number\"\n            min=\"0\"\n            data-product-id=\"${id}\"\n            value=\"${quantity}\"\n          >\n        </label>\n        <span>$${lineTotal.toFixed(2)}</span>\n      </li>\n    `;\n  }).join('');\n\n  return `\n    <div class=\"cart\">\n      <h2>Your Cart</h2>\n      <div class=\"notice\">\n        <p>You can change the number of your items.</p>\n        <p>If the number of the item is 0, then the item will be remove!</p>\n      </div>\n      <ul class=\"cart-list\">\n        ${cartItemsHtml}\n      </ul>\n      <p><strong>Total: $${grandTotal.toFixed(2)}</strong></p>\n      <div class =\"buttons\">\n        <button type=\"button\" class=\"hide-cart\">Hide Cart</button>\n        <button type=\"button\" class=\"checkout\">Checkout</button>\n      </div>\n    </div>\n  `;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  addToCart,\n  setCartVisible,\n  emptyCart,\n  setCartQuantity,\n  getTotalItemsInCart\n} from './model.js';\nimport { render } from './view.js';\n\nfunction main() {\n  document.addEventListener('click', (e) => {\n    if (e.target.classList.contains('add-to-cart')) {\n      const pid = e.target.dataset.productId;\n      addToCart(pid);\n      render();\n      return;\n    }\n\n    if (e.target.classList.contains('view-cart')) {\n      setCartVisible(true);\n      render();\n      return;\n    }\n\n    if (e.target.classList.contains('hide-cart')) {\n      setCartVisible(false);\n      render();\n      return;\n    }\n\n    if (e.target.classList.contains('checkout')) {\n      const total = getTotalItemsInCart();\n      console.log(`Total checkout: ${total}`);\n      emptyCart();\n      setCartVisible(false);\n      render();\n    }\n  });\n\n  document.addEventListener('focusin', (e) => {\n    if (e.target.classList.contains('quantity-input')) {\n      e.target.dataset.oldValue = e.target.value;\n    }\n  });\n\n  document.addEventListener('focusout', (e) => {\n    if (e.target.classList.contains('quantity-input')) {\n      const pid = e.target.dataset.productId;\n      const oldValue = parseInt(e.target.dataset.oldValue, 10) || 0;\n      let newValueStr = e.target.value.trim();\n\n      if (newValueStr === '') {\n        e.target.value = oldValue;\n        return;\n      }\n\n      const newValue = parseInt(newValueStr, 10);\n      if (isNaN(newValue)) {\n        e.target.value = oldValue;\n        return;\n      }\n\n      if (newValue === 0) {\n        setCartQuantity(pid, 0);\n        render();\n        return;\n      }\n\n      setCartQuantity(pid, newValue);\n      render();\n    }\n  });\n  render();\n}\n\nmain();"],"names":["products","id","name","price","imageUrl","cart","cartVisible","getCartVisible","setCartVisible","visible","getCart","_objectSpread","addToCart","productId","quantity","arguments","length","undefined","setCartQuantity","newQty","emptyCart","getTotalItemsInCart","qtys","Object","values","reduce","sum","n","render","appEl","document","querySelector","productHtml","renderProduct","viewCartButtonHtml","totalItems","itemCountText","concat","cartHtml","renderCart","innerHTML","listItems","map","p","toFixed","join","cartObject","productIds","keys","grandTotal","cartItemsHtml","product","find","lineTotal","main","addEventListener","e","target","classList","contains","pid","dataset","total","console","log","oldValue","value","parseInt","newValueStr","trim","newValue","isNaN"],"sourceRoot":""}